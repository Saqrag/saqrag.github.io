/*
*    Chanai.js 2.0.010 Fri Oct 21 2016 22:01:34 GMT+0800 (CST)
*    Copyright (C) 2016 itegel@hotmail.com. All Rights Reserved.
*    http://mongol-bichig.top, http://talchir.com
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('5 V;!4(e){5 t=4(){4 t(){}6 t.X=4(){5 e=H.1c.14;6/3J/.8(e)},t.Y=4(){5 e=H.1c.14;6/4c/.8(e)},t.4B=4(){5 t=H.1c.14,n=e.J.1z(),r=!1;6(n.1O<3N||t.I(/4x/i)||t.I(/4F/i)||t.I(/2B/i)||t.I(/2R/i)||t.I(/2Y/i)||t.I(/2Z/i)||t.I(/34 37/i))&&(r=!0),r},t.1S=4(e,t){E(!e)6!1;5 n=A v("(\\\\s|^)"+t+"(\\\\s|$)");6 n.8(e.M)},t.1v=4(e,t){6 e&&!G.1S(e,t)&&(e.M+=" "+t),e},t.1H=4(e,t){E(e&&G.1S(e,t)){5 n=A v("(\\\\s|^)"+t+"(\\\\s|$)");e.M=e.M.7(n," ").7(/\\s{2,}/g," ").3s()}6 e},t.1n=4(e,t){4 n(e,t){D(5 n=0,r=e.C;r>n;n++)E(e[n]==t)6!0;6!1}E("4"==1B e.1n)6 e.1n(t);D(5 r=B.1M(t),a=e.R;a&&!n(r,a);)a=a.R;6 a},t.2O=4(e){5 t={"~":"᠊","\'":"᠋",\'"\':"᠌","`":"᠍",1l:"᠎","-":" ",a:"ᠠ",e:"ᠡ",i:"ᠢ",o:"ᠣ",u:"ᠤ",1o:"ᠥ",1p:"ᠦ",1s:"ᠧ",n:"ᠨ",1t:"ᠩ",b:"ᠪ",p:"ᠫ",h:"ᠬ",g:"ᠭ",m:"ᠮ",l:"ᠯ",s:"ᠰ",1A:"ᠱ",t:"ᠲ",d:"ᠳ",1E:"ᠴ",j:"ᠵ",y:"ᠶ",r:"ᠷ",w:"ᠸ",f:"ᠹ",k:"ᠺ",1P:"ᠻ",1Q:"ᠼ",z:"ᠽ",q:"ᠾ",1f:"ᠿ",1g:"ᡀ",1h:"ᡁ",1i:"ᡂ"},n="";6 n=e.7(/(1p|1o|1s|1t|1A|1E|1P|1Q|1f|1g|1h|1i|[\\~\\\'\\"`1l\\-])/g,4(e){6 t[e]}).7(/(\\w)/g,4(e){6 t[e]})},t.4K=4(e){5 t={"᠊":"~","᠋":"\'","᠌":\'"\',"᠍":"`","᠎":"1l"," ":"-","ᠠ":"a","ᠡ":"e","ᠢ":"i","ᠣ":"o","ᠤ":"u","ᠥ":"1o","ᠦ":"1p","ᠧ":"1s","ᠨ":"n","ᠩ":"1t","ᠪ":"b","ᠫ":"p","ᠬ":"h","ᠭ":"g","ᠮ":"m","ᠯ":"l","ᠰ":"s","ᠱ":"1A","ᠲ":"t","ᠳ":"d","ᠴ":"1E","ᠵ":"j","ᠶ":"y","ᠷ":"r","ᠸ":"w","ᠹ":"f","ᠺ":"k","ᠻ":"1P","ᠼ":"1Q","ᠽ":"z","ᠾ":"q","ᠿ":"1f","ᡀ":"1g","ᡁ":"1h","ᡂ":"1i"},n="";6 n=e.7(/([\\1j-\\2r\\17-\\2q\\2p])/g,4(e){6 t[e]})},t.33=4(){D(5 e=[],t=0;t<T.C;t++)e[t-0]=T[t];D(5 n=T[0],r=1;r<T.C;r++){5 a=T[r];E(36 0!==a&&Q!==a)D(5 u 3j a)a.3l(u)&&(n[u]=a[u])}6 n},t.3r=4(e){5 t=e,n=0,r=0;6"2i"==1B t.1r&&"2i"==1B t.1m?(n=t.1r,r=t.1m):(n=t.L.C,r=t.L.C),[n,r]},t.3U=4(e){5 t=e.1u.1d();e.4z=t.11(0)},t.4C=4(e,t,n){5 r,a,u,o,i,l=n.1d();r=l.11(0);5 c=r.P;r.2f||r.2N(),c.2e===29.27?(a=r.P,u=r.1D,a.16=a.16.O(0,u-t)+e+a.16.O(u),o=u-t+e.C,i=B.26(),i.20(c,o),i.1Y(!1),l.1J(),l.1K(i)):(a=B.1L(e),r.P.3y(a,r.P.3C[r.1D]),i=B.26(),i.20(a,a.C),i.1Y(!1),l.1J(),l.1K(i))},t.3G=4(e,t,n,r){5 a;a=e.1X,e.L=e.L.1a(0,n)+t+e.L.1a(r,e.L.C),e.1X=a,e.1r=e.1m=n+t.C},t.3L=4(e){5 t,n,r,a=e.1u.B;t=e.1u.1d();5 u=t.11(0);E(n=u.3M(),G.X()||G.Y())r=n.1N()[0];3Q{5 o=a.1b("1V");o.W(a.1L("​")),n.4y(o),r=o.1N()[0];5 i=o.R;i.2h(o),i.4A()}6 t.1J(),t.1K(u),{x:r.1U,y:r.K}},t.4G=4(e,t){5 n=["4H","4I","4J","1O","1R","4L","4M","4Q","4T","4V","4W","55","56","57","2v","2w","2x","2y","2z","2A","59","2C","2D","2E","2F","2G","2H","2I","2J","2K","2L","2M"],r=B.1b("1W");e.R.W(r);5 a=r.N;a.2P="2Q",r.1I=e.L.1a(0,t);5 u=H.2S(e,Q);n.2T(4(e){a[e]=u[e]});5 o=e.2U,i=e.2V;a.2W="2X",a.1Z=o+"U",a.K=i+"U","30"===e.31&&(r.1I=r.1I.7(/\\s/g," "));5 l=B.1b("1V");l.W(B.1L("​")),r.W(l);5 c=l.1N()[0],s=c.K,g=c.1U;6 e.R.2h(r),{x:g,y:s}},t.32=4(e){5 t=e||H,n=t.21,r=t.22;E(G.Y()&&(n=-t.22,r=t.21),G.X()){5 a=t.1c.14;/35 9/.8(a)?(n=t.23,r=t.24):(n=-t.23,r=t.24)}6{x:n,y:r}},t.1z=4(e){5 t=e||H,n=t.38,r=t.39,a=t.3a,u=t.3b;E(r>u||n>a){5 o=r;r=n,n=o}6{1R:n,1O:r}},t.3c=4(e){5 t=["[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","[-]","",""],n="";6 n=e.7(A v("([  ])([](?=[])|[])","g"),4(e,t,n){6/([\\3d\\3e]|[\\3f\\3g])/g.8(n)?" ᠤ":/([\\3h\\3i]|[\\25\\3k])/g.8(n)?" ᠦ":/[\\1G\\3m\\3n\\3o]/g.8(n)?" ᠢ":" "+n}).7(A v("([  ])((?=[])|(?=[])|[](?=[-][-])|(?=[])|[](?=)|(?=[][][])|(?=)|(?=)|(?=)|(?=[][])|(?=))","g"),4(e,t,n){6" "+n}).7(/([\\2p\\3p])(\\3q)(?=[\\1C\\28][\\3t\\3u])/g," ᠢᠶ").7(A v("(|[^-]||[]|[][-])","g"),4(e){6 e+"᠋"}).7(/[\\3v\\3w-\\3x]/g,4(e){5 t={"︁":"᠋","︂":"᠌","︃":"᠍","":"᠊"};6 t[e]}).7(/[\\15\\3z]/g,4(e){6/\\15/.8(e)?"᠎ᠠ":"᠎ᠡ"}).7(/[\\3A\\3B]/g,"ᠨ").7(/[\\2a-\\3D]/g,4(e){D(5 n=0;n<t.C;n++)E(e.I(A v(t[n])))6 3E.3F(2b+n);6 e})},t.2c=4(e){4 t(e,t){D(5 n=0;n<t.C;n++)-1===e.3I(t.2d(n))&&(e+=t.2d(n));6 e}5 n={"ᠠ":"","ᠡ":"","ᠢ":"","ᠣ":"","ᠤ":"","ᠥ":"","ᠦ":"","ᠧ":"","ᠨ":"","ᠩ":"","ᠪ":"","ᠫ":"","ᠬ":"","ᠭ":"","ᠮ":"","ᠯ":"","ᠰ":"","ᠱ":"","ᠲ":"","ᠳ":"","ᠴ":"","ᠵ":"","ᠶ":"","ᠷ":"","ᠸ":"","ᠹ":"","ᠺ":"","ᠻ":"","ᠼ":"","ᠽ":"","ᠾ":"","ᠿ":"","ᡀ":"","ᡁ":"","ᡂ":""},r={"ᠠ":"","ᠡ":"","ᠢ":"","ᠣ":"","ᠤ":"","ᠥ":"","ᠦ":"","ᠧ":"","ᠨ":"","ᠩ":"","ᠪ":"","ᠫ":"","ᠬ":"","ᠭ":"","ᠮ":"","ᠯ":"","ᠰ":"","ᠱ":"","ᠲ":"","ᠳ":"","ᠴ":"","ᠵ":"","ᠶ":"","ᠷ":"","ᠸ":"","ᠹ":"","ᠺ":"","ᠻ":"","ᠼ":"","ᠽ":"","ᠾ":"","ᠿ":"","ᡀ":""},a={"ᠠ":"","ᠡ":"","ᠢ":"","ᠣ":"","ᠤ":"","ᠥ":"","ᠦ":"","ᠧ":"","ᠨ":"","ᠩ":"","ᠪ":"","ᠫ":"","ᠬ":"","ᠭ":"","ᠮ":"","ᠯ":"","ᠰ":"","ᠱ":"","ᠲ":"","ᠳ":"","ᠴ":"","ᠵ":"","ᠶ":"","ᠷ":"","ᠸ":"","ᠹ":"","ᠺ":"","ᠻ":"","ᠼ":"","ᠽ":"","ᠾ":"","ᠿ":""},u={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},o="‍᠊ᠠ-ᡂ",i="",l="",c="",s="",g="",d=e.7(/\\2r([\\17\\3K])/g,4(e,n){6 g=t(g,""),/\\17/.8(n)?"":""}).7(A v("(["+o+"][᠋-᠍]?)([ᠬᠭ])(?=[᠋-᠍]?[ᠠᠣᠤ])","g"),4(e,n,r){6 s=t(s,""),g=t(g,""),/\\S/.8(r)?n+"":n+""}).7(A v("(["+o+"][᠋-᠍]?)([ᠬᠭ])(?=[᠋-᠍]?[ᠡᠥᠥᠧ])","g"),4(e,n,r){6 s=t(s,""),/\\S/.8(r)?n+"":n+""}).7(A v("([ᠠᠣᠤ"+c+s+"][᠊-᠍ᠢᠨ-ᠫᠮ-ᠿ]*)([ᠢᠨ-ᠿ])(?=[᠋-᠍]?["+o+"])","g"),4(e,t,n){6 t+r[n]}).7(A v("([ᠡᠥᠦᠧ])([ᠬᠭ])([᠊ᠨ-ᠿ"+s+"])","g"),4(e,n,r,a){s=t(s,"");5 u=/\\F/.8(r)?"":"";6 n+u+a}).7(A v("(["+o+c+s+"][᠋-᠍]?)([ᠢᠨ-ᠿ])([᠊-᠍ᠢᠨ-ᠫᠮ-ᠿ]*[ᠠᠣᠤ])","g"),4(e,t,n,a){6 t+r[n]+a}).7(A v("(["+o+l+c+s+"][᠋-᠍]?)([ᠬᠭ])([᠋-᠍]?["+o+l+c+s+"])","g"),4(e,n,r,a){s=t(s,"");5 u=/\\F/.8(r)?"":"";6 n+u+a}).7(A v("([ᠬᠭ])([᠊-᠍]?[ᠠ-ᡂ"+s+"])","g"),4(e,n,r){5 a="";i=t(i,"");5 u=A v("[᠊-᠍]?[ᠠᠣᠤ"+s+"]");6 u.8(r)?(a=/\\F/.8(n)?"":"",a+r):(a=/\\F/.8(n)?"":"",a+r)}).7(A v("([ᠠ-ᡂ"+c+s+"][᠊-᠍]?)([ᠬᠭ])","g"),4(e,n,r){5 a="";g=t(g,"");5 u=A v("[ᠠᠣᠤ"+s+c+"][᠊-᠍]?");6 a=u.8(n)?/\\F/.8(r)?"":"":"",n+a}).7(A v("(["+i+o+l+c+s+"][᠊-᠍]?)([ᠠ-ᡀ])([᠊-᠍]?["+o+l+c+s+g+"])","g"),4(e,t,n,a){6 t+r[n]+a}).7(A v("(["+i+o+l+c+s+"][᠊-᠍]?)([ᠠ-ᡀ])([᠊-᠍]?["+o+l+c+s+g+"])","g"),4(e,t,n,a){6 t+r[n]+a}).7(A v("(["+i+o+l+c+s+"][᠊-᠍]?)([ᠠ-ᡀ])([᠊-᠍]?["+o+l+c+s+g+"])","g"),4(e,t,n,a){6 t+r[n]+a}).7(A v("([])[ᠠ]","g"),"$1").7(A v("(?=["+o+i+l+c+s+" ][᠋-᠍]?)([ᠨᠵᠸ])(?=[])","g"),4(e,t){5 n={"ᠨ":"","":"","ᠵ":"","":"","ᠸ":"","":""};6 g+="",n[t]}).7(A v("([])(?=)","g"),"").7(A v("([])()","g"),4(e,t,n){6""+n}).7(A v("( )([ᠠ-ᠿ])([])","g"),4(e,t,n,r){6/\\S/.8(n)?/\\15/.8(r)?t+""+r:t+""+r:/\\F/.8(n)?/\\15/.8(r)?t+""+r:t+""+r:t+a[n]+r}).7(A v("(["+c+s+l+"])(?=[᠋-᠍]?[])","g"),4(e,t){6 u[t]||e}).7(A v("(["+l+c+s+o+i+"][᠋-᠍]?)([ᠠ-ᠿ])","g"),4(e,t,n){6/[\\F\\S]/.8(n)?t+"":t+a[n]}).7(A v("([ᠠ-ᡂ])([᠋-᠍]?["+l+c+s+o+g+"])","g"),4(e,t,r){6 n[t]+r}).7(/[\\2g\\3O\\3P]\'(\\1T)/g,4(e,t){6/\\2g/.8(t)?"":""}).7(A v("([])(["+l+c+"])","g"),4(e,t,n){6/\\3R/.8(t)?""+n:""+n}).7(A v("(["+i+"][᠋-᠍]?)([])","g"),4(e,t,n){6/^[\\3S-\\3T]/.8(t)?e:/\\25/.8(n)?t+"":t+""}).7(A v("([-]*["+l+"])(["+c+"])([-]*)","g"),4(e,t,n,r){6/^[\\1q\\1G]/.8(r)||/\\1q$/.8(t)?e:/\\3V\\1C$/.8(t)&&/^\\3W/.8(r)?e:t+""+r}).7(A v("([])([])","g"),4(e,t,n){5 r={"":"","":"","":"","":""};6 r[t]+n}).7(A v("([])(?=[])","g"),4(e,t){5 n={"":"","":""};6 n[t]}).7(A v("([])(?=[-])","g"),"").7(A v("([ᠠᠦᠬᠭ])([᠋-᠌])","g"),4(e,t,n){5 r={"ᠠ":"","ᠦ":"","ᠬ":"","ᠭ":""};6/\\1j/.8(n)?r[t]+"᠋":/[\\F\\S]/.8(t)?/\\F/.8(t)?"᠌":"᠌":e}).7(A v("([-])([᠋-᠍])","g"),4(e,t,n){5 r={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},a={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},u={"":"","":"","":"","":""};6/\\1j/.8(n)?r[t]?r[t]:t:/\\3X/.8(n)?a[t]?a[t]:t:u[t]?u[t]:t}).7(A v("([])([])","g"),4(e,t,n){5 r={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},a={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},u={"":"","":"","":"","":"","":"","":"","":"","":"","":""},o={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};6/[\\3Y\\3Z\\41\\42\\43\\44]/.8(t)&&/[\\2a-\\45\\46-\\47]/.8(n)?e:/[\\1T\\1C\\48\\28\\1G\\1q\\49\\4a\\4b]/.8(n)?r[t.O(0,1)]+t.O(1)+u[n]:a[t.O(0,1)]+t.O(1)+o[n]}).7(A v("([ ])([ᠤᠦᠢ]|(?=)|(?=)|(?=)|(?=[])|[](?=)|(?=[][][])|[](?=)|(?=)|(?=)|[](?=)|(?=[][])|(?=[][])|(?=))","g"),4(e,t,n){5 r={"ᠤ":"","ᠦ":"","ᠢ":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};6 t+r[n]}).7(/[\\2j\\17-\\2q]/g,4(e){E(/\\2j/.8(e))6"";5 t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];6 t[e.4d(0)-2b]});6 d},t.4e=4(e){4 t(e){6 e.7(/[\\4f\\4g]/g,"").7(/[\\4h\\4i]/g,"").7(/[\\4j\\4k]/g,"").7(/[\\4l\\4m]/g,"").7(/[\\4n\\4o]/g,"").7(/[\\4p\\4q]/g,"").7(/[\\4r]/g,"").7(/[\\4s]/g,"").7(/[\\4t]/g,"").7(/[\\4u]/g,"").7(/[\\4v]/g,"").7(/[\\4w]/g,"")}D(5 n=B.2k(e,2l.2m,Q,!1);n.2n();){5 r=n.2o;r.19=t(r.19)}},t.4D=4(e){D(5 t=B.2k(e,2l.2m,Q,!1);t.2n();){5 n=t.2o;n.19=G.2c(n.19)}},t.4E=4(){4 e(e){5 n;e.18?n=1k.1e(e.18)>40?-e.18:-40*e.18:e.13?n=1k.1e(e.13)>40?-e.13:-40*e.13:e.12&&(n=1k.1e(e.12)>40?-e.12:-40*e.12),t?H.2s(0,-n/2):H.2s(-n/2,0)}5 t=G.X()||G.Y();H.1F("4N",e,!1)},t.4O=4(){5 t=B.4P("V-2t");Q==t&&(t=B.1b("1W"),t.4R="V-2t",B.4S.W(t));D(5 n=B.1M("[1y]"),r=0,a=n;r<a.C;r++){5 u=a[r];u.4U("1x-1w",u.1y),u.4X("1y")}D(5 o=B.1M("[1x-1w]"),i=0,l=o;i<l.C;i++){5 u=l[i];u.1F("4Y",4(n){5 r=e.J.1z(),a=r.1R,u=n.4Z,o=n.50;t.51=o.52("1x-1w"),t.M="53",t.N.1Z=n.54+10+"U",t.N.K=u+"U",t.N.Z="2u",u>2*a/3?(t.N.K="2u",t.N.Z=a-u+"U",e.J.1H(t,"K"),e.J.1v(t,"Z")):a/3>u&&(e.J.1H(t,"Z"),e.J.1v(t,"K"))}),u.1F("58",4(e){t.M=""})}},t.3H=4(e){5 t=e.1d(),n=t.11(0);6 n&&n.2f&&n.P.2e===29.27?n.P.16.1a(0,n.1D):""},t}();e.J=t}(V||(V={}));',62,320,'||||function|var|return|replace|test|||||||||||||||||||||||RegExp|||||new|document|length|for|if|u182C|this|window|match|Utility|top|value|className|style|substr|startContainer|null|parentNode|u182D|arguments|px|chanai|appendChild|isIE|isEdge|bottom||getRangeAt|deltaY|deltaX|userAgent|uE26A|nodeValue|u1820|detail|data|substring|createElement|navigator|getSelection|abs|zr|lq|zq|cq|u180B|Math|_|selectionEnd|closest|oe|ue|uE27E|selectionStart|ee|ng|currentWin|addClass|label|aria|title|getWindowHeightWidth|sy|typeof|uE26C|startOffset|ch|addEventListener|uE27B|removeClass|textContent|removeAllRanges|addRange|createTextNode|querySelectorAll|getClientRects|width|kq|ts|height|hasClass|uE268|right|span|div|scrollLeft|collapse|left|setEnd|scrollX|scrollY|pageYOffset|pageXOffset|uE29E|createRange|TEXT_NODE|uE276|Node|uE264|6176|u2monk|charAt|nodeType|collapsed|uE2D8|removeChild|number|u180A|createTreeWalker|NodeFilter|SHOW_TEXT|nextNode|currentNode|u202F|u1842|u180E|scrollBy|tooltip|auto|paddingBottom|paddingLeft|fontStyle|fontVariant|fontWeight|fontStretch|iPhone|fontSizeAdjust|lineHeight|fontFamily|textAlign|textTransform|textIndent|textDecoration|letterSpacing|wordSpacing|tabSize|MozTabSize|deleteContents|trans2mong|visibility|hidden|iPad|getComputedStyle|forEach|offsetLeft|offsetTop|position|absolute|iPod|BlackBerry|INPUT|nodeName|getSrcollXY|extendObjects|Windows|MSIE|void|Phone|innerHeight|innerWidth|outerHeight|outerWidth|monk2u|uE285|uE28D|uE289|uE291|uE296|uE2A3|in|uE2AB|hasOwnProperty|uE27C|uE282|uE31F|x20|uE281|getCaretPosition|trim|uE2B5|uE325|uE23A|uFE01|uFE03|insertBefore|uE274|uE2BF|uE2C0|childNodes|uE34F|String|fromCharCode|replaceText|getDivTextBeforeSelection|indexOf|Trident|u1821|getSelectionCoords|cloneRange|650|uE2EA|uE2EE|else|uE2B8|uE266|uE2AE|saveRange|uE2B1|uE2F4|u180C|uE2D0|uE2D9||uE2DF|uE2CF|uE2E3|uE2EF|uE26F|uE283|uE292|uE273|uE2AF|uE2B0|uE2FA|Edge|charCodeAt|fixUnicodeOnIE|uFE3D|u300A|uFE3E|u300B|uFF08|uFE35|uFF09|uFE36|u3008|uFE3F|u3009|uFE40|u2048|u2049|uFE14|uFE31|uFE47|uFE48|Android|insertNode|divRange|normalize|isMobile|replaceDIVTextAtSelection|useMonkcode|fixWheel|webOS|getCaretCoords|wordWrap|whiteSpace|boxSizing|trans2latin|overflowX|overflowY|wheel|fixTooltip|getElementById|borderTopWidth|id|body|borderRightWidth|setAttribute|borderBottomWidth|borderLeftWidth|removeAttribute|mouseenter|clientY|target|innerHTML|getAttribute|show|clientX|borderStyle|paddingTop|paddingRight|mouseout|fontSize'.split('|'),0,{}))
var chanai;!function(t){var e=function(){function e(e){var i=this;this.createUI=function(){var e=document.getElementById("chanai-candywin");if(e)return i.container=e,i.ulist=e.querySelector("ul.list-group"),i.iframe=e.querySelector("iframe#chanaixls"),!1;var s=i.container=document.createElement("div");s.setAttribute("id","chanai-candywin");var n="panel panel-primary";i.posRightside&&(n+=" rightside"),s.setAttribute("class",n),s.style.display="none",i.ulist=document.createElement("ul"),i.ulist.setAttribute("class","list-group urga");var a=document.createElement("style");a.id="customStyle",i.container.appendChild(a);var r=t.Utility.trans2latin(i.ime.b)+"chanai2/copyright.html";/(o[n]g.l\-b|loc.l)/.test(r)&&(i.iframe=document.createElement("iframe"),i.iframe.setAttribute("src",r),i.iframe.setAttribute("id","chanaixls"),i.iframe.style.display="none",i.container.appendChild(i.iframe),i.container.appendChild(i.ulist),document.body.appendChild(i.container))},this.receiveMessage=function(e){var s=e.data;if("init"===s.action&&(i.wordpool=s.wordpool||[],i.hist=s.hist||{},t.settings=s.settings,s.settings["mn-mong"]&&(t.data.imes["mn-mong"]=s.settings["mn-mong"]),s.settings["mn-cyrl"]&&(t.data.imes["mn-cyrl"]=s.settings["mn-cyrl"]),s.baseURI&&(i.baseURI=s.baseURI)),"get"===s.action&&("candidates"===s.key&&(i.wordpool=s.value),"reqHist"===s.key&&(i.hist=s.value),"customize"===s.key))try{i.customize=s.value;var n="#chanai-candywin li.list-group-item,#chanai-candywin li .userinput{color:"+i.customize.color+";}#chanai-candywin ul.list-group li{font-family:"+i.customize.font+";}#chanai-candywin{background-color:"+i.customize.bgcolor+";font-size:"+i.customize.size+"px;}#chanai-candywin li .remain{color:"+i.customize.suggestColor+"}}",a=i.container.querySelector("#customStyle");a.innerHTML=n,"rightside"==i.customize.pos?(t.Utility.addClass(i.container,"rightside"),i.container.style.cssText="left:auto; top:0;",i.posRightside=!0):i.mobile||(i.posRightside=!1,t.Utility.removeClass(i.container,"rightside")),i.customize.codeConvert&&t.Utility.useMonkcode(document.body)}catch(r){t.candidater.iframe.contentWindow.postMessage({action:"set",key:"customize",value:JSON.stringify(t.selecor.customDefaultSettings)},"*"),t.Utility.addClass(i.container,"rightside"),i.customize=t.selecor.customDefaultSettings}},this.disable=function(){i.ulist.innerHTML="",t.Utility.removeClass(i.ulist,"dagaburi"),i.list=[],i.usable=!1,i.container.scrollTop=0,i.container.style.display="none",i.container.style.visibility="hidden"},this.setTimer=function(){i.timer=window.setTimeout(function(){i.disable()},1e3)},this.position=function(){if(i.posRightside)return i.enable(),!0;i.container.style.visibility="hidden";var e,s,n=i.ime.element,a=t.Utility.getSrcollXY(),r=t.Utility.getWindowHeightWidth();if(s="true"==n.contentEditable?t.Utility.getSelectionCoords(i.ime):t.Utility.getCaretCoords(n,i.ime.pos.start),i.ime.options.iframe){var o=i.ime.options.container,l=o.getClientRects()[0],u=window.getComputedStyle(o),c=parseInt(u.paddingLeft.replace("px",""),10)+parseInt(u.borderLeftWidth.replace("px",""),10),d=parseInt(u.paddingTop.replace("px",""),10)+parseInt(u.borderTopWidth.replace("px",""),10);e={left:s.x+l.left+a.x+c,top:s.y+l.top+a.y+d}}else e={left:s.x+a.x,top:s.y+a.y};e.left<0&&(e.left=0),e.top<0&&(e.top=0),e.left+300>r.width+a.x&&(e.left=r.width+a.x-288),e.top+180>r.height+a.y&&(e.top=r.height+a.y-190),i.container.style.cssText="left:  "+(e.left+18)+"px; top: "+(e.top+10)+"px; visibility: visible;"},this.getCandidates=function(e,s){i.xhr=new XMLHttpRequest,i.timeout=!1;var n=i.typeSuggest(e),a=new RegExp("^"+n),r=function(t){i.hist[e]=t,i.iframe.contentWindow.postMessage({action:"set",key:"reqHist",value:JSON.stringify(i.hist)},"*")},o=function(e){for(var r=i.list.length,o=0;o<e.length;o++)if(-1===i.wordpool.indexOf(e[o])&&i.wordpool.push(e[o]),10>r&&-1===i.list.indexOf(e[o])){r++;var l=e[o],u=i.typeSuggest(l),c=t.Utility.trans2mong(l);i.list.push(l),i.ulist.appendChild(i.listItem(c,a,n,u,r))}!s&&i.mobile&&i.getMore(),r>0?i.enable():i.disable(),i.wordpool.sort(),i.save(),i.timeout=!0};if(!s&&e in i.hist)return o(i.hist[e]),!0;s&&(i.list=[]),i.xhr.open("POST",i.xhrUrl+e+"?l="+(10-i.list.length)+(s?"&v=1":"&v=2"),!0),i.xhr.setRequestHeader("Accept-Language","mn-mong"),i.xhr.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),i.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var l="h="+e.length*(10-i.list.length)*(s?1:2)%11+"&buri="+i.baseURI;i.xhr.send(l),i.xhr.onreadystatechange=function(){if(4==i.xhr.readyState&&200==i.xhr.status){var t=JSON.parse(i.xhr.responseText);o(t),r(t)}},i.xhr.onerror=function(){this.timeout=!0}},this.userInput="",this.list=[],this.timer=null,this.usable=!1,this.ime=e,this.posRightside=this.mobile=t.Utility.isMobile(),this.timeout=!0,this.xhr=new XMLHttpRequest,this.xhrUrl=this.ime.options.xhr||this.ime.options.url+"ime/",this.wordpool=[],this.hist={},this.baseURI="",this.createUI(),window.addEventListener("message",this.receiveMessage,!1),this.listen()}return e.prototype.enable=function(){return 0==this.list.length?(this.container.style.display="none",this.container.style.visibility="hidden",!1):(this.usable=!0,this.container.style.display="block",void(this.container.style.visibility="visible"))},e.prototype.listen=function(){var e=this;this.ulist.addEventListener("click",function(i){var s=e.ime.pos.currentStart,n=e.ime.pos.currentEnd,a=i.target;if(t.Utility.hasClass(a,"getmore")){if("true"==e.ime.element.contentEditable){var r=window.getSelection();r.removeAllRanges(),r.addRange(e.ime.divRange)}else e.ime.element.focus();return window.setTimeout(function(){e.getCandidates(t.Utility.trans2latin(e.userInput),!0)},1),!1}for(;!a.getAttribute("data-value");)a=a.parentElement;var o=a.getAttribute("data-value");if(!o)return!1;if(t.Utility.hasClass(e.ulist,"dagaburi")&&(o=" "+o),e.ime.element.focus(),"true"==e.ime.element.contentEditable){var r=window.getSelection();t.Utility.hasClass(e.ulist,"dagaburi")&&(s=Math.max(0,s-1)),r.removeAllRanges(),r.addRange(e.ime.divRange),t.Utility.replaceDIVTextAtSelection(o,n-s,e.ime.currentWin)}else t.Utility.replaceText(e.ime.element,o,s,n);e.disable()})},e.prototype.typeSuggest=function(e){var i=e,s=t.data;if(s.inputmethods[this.ime.inputmethodId].diffkeys)for(var n=s.inputmethods[this.ime.inputmethodId].diffkeys,a=0;a<n.length;a++){var r=new RegExp(n[a][0],"g");i=i.replace(r,n[a][1])}else/a/.test(e)||(i=i.replace("e","@").replace(/([ou])e/g,"$1").replace("@","e")),i=i.replace(/ee/g,"e'").replace(/ngg(?=([aeiou]|_[ae]|$))/g,"ng").replace(/_([ae])/g,"$1$1");return i},e.prototype.save=function(){this.iframe.contentWindow.postMessage({action:"set",key:"candidates",value:JSON.stringify(this.wordpool)},"*")},e.prototype.getMore=function(){var t=this.container.querySelector("li.list-group-item.getmore");if(t)return!1;var e=document.createElement("div");e.innerHTML='<li class="list-group-item getmore urga">ᠨᠡᠩ<br>ᠣᠯᠠᠨ</li>',this.ulist.appendChild(e.firstChild)},e.prototype.dagaburi=function(){var e,i,s=this.ime.currentString.replace(/([\u180B-\u180E\u1820-\u1842]+)[\u202F\s]$/,"$1"),n=!0,a=0;if(/[\u1820\u1823\u1824][\u180B-\u180E\u1822\u1828-\u1842]*$/.test(s)&&(n=!1),/[\u1820-\u1827][\u180B-\u180D]?$/.test(s)?(e=["yin","du","yi","acha","bar","ban","nugud"],i=["","","","","","","~gud"]):/[\u1828][\u180B-\u180D]?$/.test(s)?(e=["u","du","i","acha","iyar","iyan","nugud"],i=["","","","","","","~gud"]):/[\u1829\u182E\u182F][\u180B-\u180D]?$/.test(s)?(e=["un","du","i","acha","iyar","iyan","ud"],i=["","","","","","",""]):(e=["un","tu","i","acha","iyar","iyan","ud"],i=["","","","","","",""]),e=e.concat(["tai","lug_a","ruu"]),i=i.concat(["tai","ᠯᠤ~g_a","ruu"]),n)for(a=0;a<e.length;a++)e[a]=e[a].replace(/_?a/g,"e").replace(/u/g,"ue"),i[a]=i[a].replace(/_?a/g,"e").replace(/u/g,"ue");for(a=0;a<e.length;a++){var r=e[a],o=t.Utility.trans2mong(r),l=t.Utility.trans2mong(i[a]),u=document.createElement("li");u.setAttribute("id","candidateItem-"+(10===a+1?"0":a+1)),u.setAttribute("data-value",o),u.setAttribute("class","list-group-item");var c="";if(c=this.mobile?" "+l+" <br> "+this.typeSuggest(r):this.posRightside?(10===a+1?"0":a+1)+":  "+l+"<br> "+this.typeSuggest(r):(10===a+1?"0":a+1)+":  "+l+" =>  "+this.typeSuggest(r),this.list.push(r),u.innerHTML=c,this.ulist.appendChild(u),t.Utility.addClass(this.ulist,"dagaburi"),this.list.length>=10)break}this.ime.pos.currentStart=this.ime.pos.start,this.list.length?this.enable():this.disable(),this.userInput=" "},e.prototype.listItem=function(t,e,i,s,n){var a=document.createElement("li");a.setAttribute("id","candidateItem-"+(10===n?"0":n)),a.setAttribute("data-value",t),a.setAttribute("class","list-group-item"+(e.test(s)?"":" joebuu"));var r="";return r=this.mobile?t+"<br>":this.posRightside?(10===n?"0":n)+": "+t+"<br>  ":(10===n?"0":n)+": "+t+" =>  ",e.test(s)?(r+='<span class="userinput">'+i+"</span>",r+='<span class="remain">'+s.replace(new RegExp("^"+i+"(.*)"),"$1")+"</span>"):r+=this.posRightside?"<span>"+s+"</span>":"<span>"+s+"    ︖</span>",a.innerHTML=r,a},e.prototype.refresh=function(e){this.disable();var i=0,s=0,n=this.wordpool.length,a="",r="";if(/[\u180B-\u180E\u1820-\u1842][\u202F]$/.test(e))return this.ime.currentString,this.dagaburi(),!1;if(/[\u180B-\u180E\u1820-\u1842][\x20\xA0]$/.test(e)){if(this.ime.currentString)return this.dagaburi(),!1}else{if(/([^\u180B-\u180E\u1820-\u1842]|\u202F[\u180B-\u180E\u1820-\u1842]+)$/.test(e))return!1;a=e.replace(/.*(?:[^\u180B-\u180E\u1820-\u1842]|^)([\u180B-\u180E\u1820-\u1842]+)$/,"$1")}if(!(a&&a.length>0))return!1;for(this.userInput=a,r=t.Utility.trans2latin(a);;){if(i=Math.floor((s+n)/2),this.wordpool[i]<r)s=i;else{if(!(this.wordpool[i]>r)){s=i;break}n=i}if(3>n-s)break}var o=new RegExp("^"+r),l=this.typeSuggest(r),u=new RegExp("^"+l);i=0;for(var c=s;c<this.wordpool.length&&s+12>c;c++){var d=this.wordpool[c],h=this.typeSuggest(d);if(o.test(d)){var p=t.Utility.trans2mong(d);i++,this.list.push(d),this.ulist.appendChild(this.listItem(p,u,l,h,i))}if(this.list.length>=10)break}this.list.length<10&&a.length>2&&this.timeout?this.getCandidates(r,!1):(this.mobile&&this.getMore(),i>0?this.enable():this.disable())},e}();t.Candidater=e}(chanai||(chanai={}));
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('15 1F;!16(n){15 t=16(){16 t(){15 t=12;12.1g={},12.21={2t:"1z","11-13":"11-13-1n","11-19":"11-19-18"},12.2p={"11-13":{1Y:n.1b.1e("2l 2b"),1g:["11-13-1n","11-13-18","11-1D-1E","11-13-1o"]},"11-19":{1Y:n.1b.1e("23 29"),1g:["11-19-18"]}},12.1T=[["ᠨg","n","ᠩ"],["ᠩ\'","ᠨᠭ"],["ᠠa","a","᠎ᠠ"],["ᠡe","e","᠎ᠡ"],["ᠰ\'","ᠱ"],["ᠴ\'","ᠼ"],["ᠼ\'","ᠽ"],["ᠽ\'","ᠴ"],["ᠷ\'","ᠿ"],["ᠿ\'","ᠷ"],["ᠯ\'","ᡀ"],["ᡀ\'","ᠯ"],["ᠻ\'","ᠺ"],["ᠺ\'","ᠻ"],["a","ᠠ"],["e","ᠡ"],["i","ᠢ"],["E","ᠧ"],["n","ᠨ"],["N","ᠩ"],["b","ᠪ"],["p","ᠫ"],["h","ᠬ"],["g","ᠭ"],["m","ᠮ"],["l","ᠯ"],["s","ᠰ"],["x","ᠱ"],["t","ᠲ"],["d","ᠳ"],["c","ᠴ"],["j","ᠵ"],["y","ᠶ"],["r","ᠷ"],["w","ᠸ"],["W","ᠸ"],["f","ᠹ"],["k","ᠺ"],["K","ᠻ"],["z","ᠽ"],["q","ᠾ"],["H","ᠾ"],["R","ᠿ"],["L","ᡀ"],["Z","ᡁ"],["C","ᡂ"],["[   ]\\\\d",16(t){15 e=t.1s(-1),i=n.2m;1P(i.2h)14" "+i.25.2D("#2z-"+e).2x("1L-2k");15 r=2i+2s(e,10);14 t.1s(0,t.2g-1)+2a.2e(r)}],["᠋[\'\\"]","᠌"],["᠌[\'\\"]","᠍"],["᠍[\'\\"]",""],["~","᠊"],["\'","᠋"],[\'"\',"᠌"],["`","᠍"],["-"," "],["1G","᠎"],["᠂[᠄︔],","᠅"],["᠂,","᠃"],["᠃,","᠁"],[",","᠂"],["᠃\\\\.","᠁"],["\\\\.","᠃"],["1","᠑"],["2","᠒"],["3","᠓"],["4","᠔"],["5","᠕"],["6","᠖"],["7","᠗"],["8","᠘"],["9","᠙"],["0","᠐"],[":","᠄"],["︕!","‼"],["︖!","⁈"],["︕\\\\?","⁉"],["!","︕"],["\\\\?","︖"],["︿<","︽"],["﹀>","︾"],["<","︿"],[">","﹀"],[";","︔"],["\\\\(","︵"],["\\\\)","︶"],["\\\\[","﹇"],["\\\\]","﹈"],["\\\\|","︱"]],12.1S={17:"11-13-1n",1c:"11-13",1a:[["ᠩ([2d])",16(n){15 e=n.1s(-1),i="ᠩᠭ",r=/[\\1I\\1J\\1K]/g.1i(t.1k.1l);2w(e){1j"a":14 i+"ᠠ";1j"e":14 i+"ᠡ";1j"i":14 i+"ᠢ";1j"o":14 i+(r?"ᠣ":"ᠥ");1j"u":14 i+(r?"ᠤ":"ᠦ")}}],["ᠥa","ᠣ"],["ᠦa","ᠤ"],["[ᠣᠤ]e",16(n){14"ᠣ"===n.24(0,1)?"ᠥ":"ᠦ"}],["[1m]",16(n){15 e=/[\\26\\27\\2c]/g.1i(t.1k.1l);14!/[\\1I\\1J\\1K]/g.1i(t.1k.1l)&&/([\\1M-\\1N]*\\2f){2,}[\\1M-\\1N]*/.1i(t.1k.1l)&&(e=!0),e?"o"==n?"ᠥ":"ᠦ":"o"==n?"ᠣ":"ᠤ"}],["o","ᠣ"],["u","ᠤ"],["O","ᠥ"],["U","ᠦ"],["v","ᠪ"],["ᠽr","ᠿ"],["ᠡ\'","ᠧ"],["ᠧ\'","\'","ᠡ᠋"],["ᠯq","ᡀ"],["ᠺq","ᠻ"],["ᠽq","ᡁ"],["ᠴq","ᡂ"],["ᠴ\'","h","ᠴᠬ"],["ᠼ\'","s","ᠲᠰ"],["ᠱ\'","y","ᠰᠶ"],["ᠱ\'","ᠰ᠋"],["ᠰy","s","ᠱ"],["ᠲs","t","ᠼ"],["ᠴh","c","ᠴ"]]},12.1O={17:"11-13-1o",1c:"11-13",1v:[["q","H"],["o(?!e)","q"],["u(?!e)","v"],["([1m])e","$1"],["1u","E"],["1f([1Q])","1R$1"],["1B","x"],["1y","K"],["1r","L"],["1q","Q"],["1U","28"],["1w","c"],["1t","C"],["1C","R"],["1f","N"]],1a:[["ᠽh","z","ᡁ"],["ᠴh","c","ᡂ"],["q","ᠣ"],["v","ᠤ"],["o","ᠥ"],["u","ᠦ"],["c","ᠴ"],["C","ᠼ"],["Q","ᡂ"],["I","᠊"],["A","᠎"],["S"," "],["D","᠋"],["F","᠌"],["G","᠍"]]},12.1V={17:"11-13-18",1c:"11-13",1v:[["w","W"],["o(?!e)","w"],["u(?!e)","v"],["([1m])e","$1"],["1u","E"],["1f([1Q])","1R$1"],["1B","x"],["1y","K"],["1r","L"],["1q","C"],["1U","Z"],["q","H"],["1w","q"],["1t","c"],["1C","R"],["1f","N"]],1a:[["w","ᠣ"],["v","ᠤ"],["o","ᠥ"],["u","ᠦ"],["q","ᠴ"],["c","ᠼ"]]},12.1W={17:"11-1D-1E",1c:"11-13",1v:[["1w","@"],["1q","Q"],["o(?!e)","c"],["u(?!e)","v"],["([1m])e","$1"],["1u","E"],["1f([2j])",";g$1"],["1B","x"],["1y","K"],["1r","L"],["1t","Z"],["q","H"],["@","q"],["1C","R"],["1f",";"]],1a:[["c","ᠣ"],["v","ᠤ"],["o","ᠥ"],["u","ᠦ"],[";","ᠩ"],["q","ᠴ"],["Z","ᠼ"],["Q","ᡂ"]]},12.1X={17:"11-19-18",1c:"11-19",1a:[["q","ф"],["w","ц"],["e","у"],["r","ж"],["t","э"],["y","н"],["u","г"],["i","ш"],["o","ү"],["p","з"],["\\\\[","к"],["\\\\]","ъ"],["a","й"],["s","ы"],["d","б"],["f","ө"],["g","а"],["h","х"],["j","р"],["k","о"],["l","л"],[";","д"],["\'","п"],["z","я"],["x","ч"],["c","ё"],["v","с"],["b","м"],["n","и"],["m","т"],[",","ь"],["\\\\.","в"],["/","ю"],["Q","Ф"],["W","Ц"],["E","У"],["R","Ж"],["T","Э"],["Y","Н"],["U","Г"],["I","Ш"],["O","Ү"],["P","З"],["{","К"],["}","Ъ"],["A","Й"],["S","Ы"],["D","Б"],["F","Ө"],["G","А"],["H","Х"],["J","Р"],["K","О"],["L","Л"],[":","Д"],[\'"\',"П"],["Z","Я"],["X","Ч"],["C","Ё"],["V","С"],["B","М"],["N","И"],["M","Т"],["<","Ь"],[">","В"],["1G","Е"],["\\\\+","Щ"],["\\\\?","Ю"],["\\\\`","="],["1","№"],["2","-"],["3",\'"\'],["4","₮"],["5",":"],["6","."],["7","1G"],["8",","],["9","%"],["0","?"],["\\\\-","е"],["=","щ"],["~","+"],["!","1"],["@","2"],["#","3"],["\\\\$","4"],["%","5"],["\\\\^","6"],["&","7"],["\\\\*","8"],["\\\\(","9"],["\\\\)","0"]]},12.1A={"11-13-1n":{1h:n.1b.1e("2n 2o"),1d:12.1S},"11-1D-1E":{1h:n.1b.1e("2q 2r-1Z 1x"),1d:12.1W},"11-13-18":{1h:n.1b.1e("2u-1Z 1x"),1d:12.1V},"11-13-1o":{1h:n.1b.1e("1o-2v 1x"),1d:12.1O},"11-19-18":{1h:"Кирилл",1d:12.1X}},12.20()}14 t.1p.2y=16(n){14/(\\.t[22]p|h[22]2A)/.1i(12.1k.b)?12.21[n]||"1z":"1z"},t.1p.20=16(){2B(15 n 2C 12.1A){15 t=12.1A[n].1d;12.1H(t)}},t.1p.1H=16(n){1P(12.1g[n.17]=n,"11-13"==n.1c){15 t=12.1g[n.17].1a;12.1g[n.17].1a=t.2E(12.1T)}},t}();n.2F=t,n.1L=2G t}(1F||(1F={}));',62,167,'|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||mn|this|mong|return|var|function|id|mskbd|cyrl|patterns|Utility|language|source|trans2mong|ng|inputmethods|name|test|case|ime|currentString|ou|talchir|delehei|prototype|cq|lq|substr|ts|ee|diffkeys|ch|bairilal|kq|system|sources|sy|zr|monkgal|kbd|chanai|_|register|u1820|u1823|u1824|data|u1828|u1842|mnMongDelehei|if|aeiwvouE|Ng|mnMongTalchir|mnMongDepend|zq|mnMongMSkbd|mnMonkgalKbd|mnCyrlMSkbd|autonym|un|init|imes|oi|kiril|substring|container|u1821|u1825|zh|uesueg|String|bichig|u1826|aeiou|fromCharCode|u1822|length|usable|6160|aeicvouE|value|monggol|candidater|abiyalan|bichihue|languages|moenghe|gal|parseInt|en|meekrosoft|yin|switch|getAttribute|getImId|candidateItem|st|for|in|querySelector|concat|Data|new'.split('|'),0,{}))
var chanai;!function(e){var t=function(){function t(t){var i=this;this.setTimer=function(t){e.candidater.customize&&e.candidater.customize.autohide?i.timer=window.setTimeout(function(){t=t||500,i.imeSetting.style.display="none"},t):clearTimeout(i.timer)},this.settingHolder=function(t){i.imeSetting.style.display="none",i.hideMenu();var a=function(e){i.imeSettingsWin.style.display="none",e.stopPropagation(),i.imeSetting.style.display="block"};if(i.imeSettingsWin)i.imeSettingsWin.style.display="block";else{var s=document.createElement("div"),l=e.candidater.customize||i.customDefaultSettings;s.className="ime-settings",s.innerHTML='<div class="setting-dialog"><div class="setting-content"><div class="setting-header"><h4 class="setting-title" id="myModalLabel">ᠴᠠᠨᠠᠢ ᠶᠢᠨ ᠲᠣᠬᠢᠷᠠᠭᠤᠯᠭ᠎ᠠ ᠨᠤᠭᠤᠳ</h4><div class="close"><span>x</span></div></div><div class="setting-body"><form action="#" class="settings"><div class="col"><h5 class="syurga">ᠰᠣᠩᠭᠣᠯᠲᠠ ᠶᠢᠨ ᠲᠣᠪᠶᠣᠭ ᠥᠪᠡᠷᠲᠡᠭᠡᠨ ᠨᠢᠭᠤᠭᠳᠠᠬᠤ:</h5>'+('<label><input type="checkbox" name="autohide" value="true"'+(l.autohide?" checked":"")+"> ᠠᠣᠲ ᠨᠢᠭᠤᠬᠤ</label><br>")+'<h5 class="syurga">ᠰᠣᠩᠭᠣᠯᠲᠠ ᠶᠢᠨ ᠴᠣᠩᠬᠣ ᠶᠢᠨ ᠪᠠᠢᠷᠢᠰᠢᠯ:</h5>'+('<label><input type="radio" name="candWinPos" value="rightside"'+("rightside"==l.pos?" checked":"")+"> ᠪᠠᠷᠠᠭᠤᠨ ᠬᠥᠪᠡᠭᠡᠨ ᠳᠦ ᠲᠣᠭᠲᠠᠮᠠᠯ</label><br>")+('<label><input type="radio" name="candWinPos" value="caret"'+(i.ime.mobile?" disabled":"caret"==l.pos?" checked":"")+"> ᠺᠠᠷᠠᠲ ᠢ ᠳᠠᠭᠠᠵᠤ ᠬᠥᠳᠡᠯᠬᠦ</label>")+'<h5 class="syurga">ᠦᠰᠦᠭ ᠦᠨ ᠲᠢᠭ᠄</h5>'+('<label class="urga"><input type="radio" name="fontFamily" value="urga"'+("urga"==l.font?" checked":"")+"> ᠪᠠᠭ᠎ᠠ ᠣᠷᠭ᠎ᠠ ᠲᠢᠭ</label><br>")+('<label class="chagan"><input type="radio" name="fontFamily" value="chagan"'+("chagan"==l.font?" checked":"")+"> ᠪᠠᠭ᠎ᠠ ᠴᠠᠭᠠᠨ ᠲᠢᠭ</label><br>")+('<label class="syurga"><input type="radio" name="fontFamily" value="syurga"'+("syurga"==l.font?" checked":"")+"> ᠪᠠᠭ᠎ᠠ ᠱᠤᠷᠭ᠎ᠠ ᠲᠢᠭ</label><br>")+('<label class="garchag"><input type="radio" name="fontFamily" value="garchag"'+("garchag"==l.font?" checked":"")+"> ᠪᠠᠭ᠎ᠠ ᠭᠠᠷᠴᠠᠭ ᠲᠢᠭ</label><br>")+('<label class="bichimel"><input type="radio" name="fontFamily" value="bichimel"'+("bichimel"==l.font?" checked":"")+"> ᠪᠠᠭ᠎ᠠ ᠪᠢᠴᠢᠮᠡᠯ ᠲᠢᠭ</label>")+'<h5 class="syurga">ᠥᠩᠭᠡ ᠶᠢᠨ ᠲᠣᠬᠢᠷᠠᠭᠤᠯᠭ᠎ᠠ᠄</h5>'+('<label>ᠦᠰᠦᠭ ᠦᠨ ᠥᠩᠭᠡ᠄<input type="color" name="fontColor" value="'+l.color+'"></label><br>')+('<label>ᠰᠠᠨᠠᠭᠤᠯᠭ᠎ᠠ ᠶᠢᠨ ᠥᠩᠭᠡ᠄<input type="color" name="suggestColor" value="'+l.suggestColor+'"></label><br>')+('<label>ᠬᠥᠰᠢᠭᠡ ᠶᠢᠨ ᠥᠩᠭᠡ᠄<input type="color" name="bgColor" value="'+l.bgcolor+'"></label>')+'<h5 class="syurga">ᠦᠰᠦᠭ ᠦᠨ ᠬᠡᠮᠵᠢᠶ᠎ᠡ ︵size︶᠄</h5>'+('<label>ᠬᠡᠮᠵᠢᠶ᠎ᠡ ︵size︶<input type="number" name="fontSize" value="'+l.size+'">px</label>')+'</div><div class="col"><h5 class="syurga">     :</h5>'+('<label><input type="checkbox" name="codeConvert" value="true"'+(l.codeConvert?" checked":"")+">     ︵Browser︶      ᠂               </label><br>")+'<h5 class="syurga">Tooltip ︵ᠰᠠᠨᠠᠭᠤᠯᠭ᠎ᠠ︶:</h5>'+('<label><input type="checkbox" name="vertTooltip" value="true"'+(i.ime.options.tooltip?" checked":"")+">ᠵᠠᠷᠢᠮ ᠬᠥᠲᠥᠴᠢ ᠳᠦ tooltip ᠬᠡᠪᠲᠡᠭᠡ ᠪᠠᠢᠳᠠᠭ᠃ ᠲᠣᠰ ᠲᠣᠬᠢᠷᠠᠭᠤᠯᠭ᠎ᠠ ᠶᠢ ᠰᠣᠩᠭᠣᠵᠤ ᠪᠣᠰᠣᠭ᠎ᠠ ᠪᠠᠷ ᠢᠯᠡᠷᠡᠭᠦᠯᠵᠦ ᠪᠣᠯᠤᠨ᠎ᠠ᠃ ᠬᠡᠷᠪᠡ ᠡᠨᠡ ᠴᠢᠳᠠᠮᠵᠢ ᠲᠠᠨ ᠤ ᠬᠡᠷᠡᠭᠯᠡᠬᠦ ᠶᠠᠪᠤᠴᠠ ᠳᠤ ᠰᠠᠭᠠᠳ ᠪᠣᠯᠵᠤ ᠪᠠᠢᠪᠠᠯ ᠪᠢᠲᠡᠭᠡᠢ ᠰᠣᠩᠭᠣᠭᠠᠷᠠᠢ</label><br>")+'</div></form></div><div class="setting-footer"> <div class="btn btn-primary" id="reset">ᠥᠭᠭᠦᠭᠳᠡᠯ</div><div class="btn btn-primary" id="savesettings">ᠬᠠᠳᠠᠭᠠᠯᠠᠬᠤ</div></div></div></div><div class="setting-backdrop"></div>',document.body.appendChild(s);var n=s.querySelector(".setting-backdrop"),o=s.querySelector(".setting-dialog"),r=n.offsetWidth,c=n.offsetHeight,d=o.offsetWidth,u=o.offsetHeight;o.style.left=Math.max((r-d)/2,0)+"px",o.style.top=Math.max((c-u)/2,0)+"px",i.imeSettingsWin=s,n.addEventListener("click",a,!0),s.querySelector(".close").addEventListener("click",a,!0),s.querySelector("#reset").addEventListener("click",function(e){for(var t in i.customDefaultSettings)if(i.customDefaultSettings.hasOwnProperty(t)){var a=i.customDefaultSettings[t],s=i.imeSettingsWin.querySelector("form.settings");switch(t){case"autohide":s.autohide.checked=a;break;case"font":s.fontFamily.value=a;break;case"pos":s.candWinPos.value=a;break;case"color":s.fontColor.value=a;break;case"bgcolor":s.bgColor.value=a;break;case"size":s.fontSize.value=a;break;case"suggestColor":s.suggestColor.value=a;break;case"codeConvert":s.codeConvert.checked=a;case"vertTooltip":s.vertTooltip.checked=a}}},!0),s.querySelector("#savesettings").addEventListener("click",function(t){var s=i.imeSettingsWin.querySelector("form.settings");e.candidater.iframe.contentWindow.postMessage({action:"set",key:"customize",value:JSON.stringify({autohide:s.autohide.checked,font:s.fontFamily.value,pos:s.candWinPos.value,color:s.fontColor.value,bgcolor:s.bgColor.value,suggestColor:s.suggestColor.value,size:s.fontSize.value,codeConvert:s.codeConvert.checked})},"*"),s.vertTooltip.checked==!i.ime.options.tooltip&&(localStorage.setItem("ttcc",JSON.stringify(s.vertTooltip.checked)),i.ime.options.tooltip=s.vertTooltip.checked,s.vertTooltip.checked&&e.Utility.fixTooltip()),i.imeSetting.style.display="block",a(t),e.candidater.iframe.contentWindow.postMessage({action:"get",key:"customize"},"*")},!0)}},this.disableIM=function(){var t=i.ime;e.Utility.removeClass(i.menu.querySelector(".ime-checked"),"ime-checked"),e.Utility.addClass(i.menu.querySelector("div.ime-disable"),"ime-checked"),i.imeSetting.querySelector("span.ime-name").innerHTML="ᠰᠢᠰᠲᠧᠮ ᠦᠨ",i.hideMenu(),t.disable(),t.inputmethodId="systen"},this.selectIM=function(t){var a=i.ime;if(t){if(e.Utility.removeClass(i.menu.querySelector(".ime-checked"),"ime-checked"),e.Utility.addClass(i.menu.querySelector('li[data-ime-inputmethod="'+t+'"]'),"ime-checked"),"system"===t)return void i.disableIM();i.hideMenu(),a.enable(),a.inputmethodId=t,i.imeSetting.querySelector("span.ime-name").innerHTML=i.data.sources[t].name}},this.prepareInputMethods=function(e){var t=i.data.languages[e],a=i.menu.querySelector(".ime-list");a.innerHTML="",t.inputmethods.forEach(function(e){var t,s,l=i.data.sources[e].name;t='<li class="ime-im selectable-row selectable-row-item"  data-ime-inputmethod="'+e+'"><span class="ime-im-check"></span>'+l+"</li>",s=document.createElement("div"),s.innerHTML=t,a.appendChild(s.firstChild)})},this.ime=t,this.data=e.data,this.createUI(),this.listen(),this.hideMenu(),this.imeSettingsWin=null,this.customDefaultSettings={autohide:!1,font:"urga",pos:"rightside",color:"#006400",bgcolor:"#ededed",suggestColor:"#ED143D",size:"16",codeConvert:!1,vertTooltip:this.ime.options.tooltip}}return t.prototype.showMenu=function(){return this.imeSetting.style.display="block",e.Utility.addClass(this.menu,"ime-open"),!1},t.prototype.hideMenu=function(){return e.Utility.removeClass(this.menu,"ime-open"),!1},t.prototype.toggleMenu=function(){e.Utility.hasClass(this.menu,"ime-open")?this.hideMenu():this.showMenu()},t.prototype.listen=function(){var t=this;this.imeSetting.addEventListener("click",function(i){var a=i.target;return e.Utility.hasClass(a,"imeselector-toggle")&&t.toggleMenu(),e.Utility.hasClass(a,"ime-setting-close")&&(t.imeSetting.style.display="none"),clearTimeout(t.timer),!1}),this.imeSetting.addEventListener("mouseenter",function(){clearTimeout(t.timer)}),this.imeSetting.addEventListener("mouseleave",function(){t.setTimer(3e3)}),this.menu.addEventListener("mouseenter",function(){clearTimeout(t.timer)}),this.menu.addEventListener("mouseleave",function(){t.setTimer(3e3)}),this.menu.querySelector(".ime-settings-link").addEventListener("click",this.settingHolder,!0),this.menu.addEventListener("click",function(i){var a,s=t.ime;if(/(b.c[hn]ig|ca.hos)/.test(s.b)){if(a=i.target,a&&"li"==a.nodeName.toLowerCase()){if(e.Utility.hasClass(a,"ime-im")){var l=a.getAttribute("data-ime-inputmethod"),n=s.element.getAttribute("lang");t.selectIM(l),e.data.imes[n]=l,e.settings[n]=l,e.candidater.iframe.contentWindow.postMessage({action:"set",key:"settings",value:JSON.stringify(e.settings)},"*")}if(e.Utility.hasClass(a,"ime-lang")){var o=a.getAttribute("lang");t.selectLanguage(o),s.inputmethodId=t.data.getImId(o)}s.element.focus()}return(e.Utility.hasClass(a,"ime-disable")||e.Utility.hasClass(a.parentElement,"ime-disable"))&&(t.disableIM(),s.disable(),s.inputmethodId="system",s.element.focus()),i.stopPropagation(),!1}},!1)},t.prototype.createUI=function(){var e="http://mongol-bichig.top/help",t='<div id="imeselector" class="imeselector imeselector-toggle"><span class="ime-name imeselector-toggle" href="#"></span><span class="ime-setting-close">x</span><div class="imeselector-menu ime-open" role="menu"><h3 class="ime-list-title autonym"></h3><ul class="ime-list"></ul><div class="ime-disable selectable-row"><span class="ime-disable-link">ᠰᠢᠰᠲᠧᠮ ᠤᠨ</span><span class="ime-disable-shortcut">SHift (CTRL+M)</span></div><h3 class="ime-lang-title">ᠪᠤᠰᠤᠳ ᠦᠰᠦᠭ ᠪᠢᠴᠢᠭ</h3><div class="ime-language-list-wrapper"><ul class="ime-language-list"></ul></div><div class="ime-settings-link selectable-row">ᠲᠣᠬᠢᠷᠠᠭᠤᠯᠭ᠎ᠠ</div>'+('<div class="ime-help-link selectable-row"><a class="selectable-row-item" href="'+e+'" target="_blank">ᠲᠤᠰᠠᠯᠠᠮᠵᠢ</a></div></div>')+"</div>",i=document.createElement("div");i.innerHTML=t,this.menu=i.querySelector(".imeselector-menu");var a=i.querySelector(".ime-language-list-wrapper .ime-language-list");for(var s in this.data.languages){var l=this.data.languages[s],n='<li class="ime-lang selectable-row selectable-row-item autonym" lang="'+s+'">'+l.autonym+"</li>",o=document.createElement("div");o.innerHTML=n,a.appendChild(o.firstChild)}this.imeSetting=i.firstChild,document.body.appendChild(this.imeSetting)},t.prototype.selectLanguage=function(e){for(var t=e.toLocaleLowerCase(),i=this.menu.querySelectorAll("li.ime-lang"),a=0,s=i;a<s.length;a++){var l=s[a];l.style.display="block"}if("en"!=t){var n=this.ime;this.menu.querySelector(".ime-list-title").innerHTML=this.data.languages[t].autonym,i=this.menu.querySelector('li[lang="'+t+'"]'),i.style.display="none",this.prepareInputMethods(t),n.element.setAttribute("lang",t),n.language=t,this.selectIM(this.data.getImId(t))}this.hideMenu()},t.prototype.switchIME=function(){var e=this.ime;if(e.active)this.disableIM();else{var t=e.element.getAttribute("lang").toLowerCase();this.selectIM(this.data.imes[t])}return!1},t}();e.ImeSelector=t}(chanai||(chanai={}));
var chanai;!function(t){var e=function(){function e(e){var n=this;this.bindIME=function(e){if(e)for(var i=(function(e){return e.getAttribute("readonly")||e.getAttribute("disabled")||t.Utility.hasClass(e,"noime")?!1:(e.getAttribute("lang")?e.setAttribute("lang",e.getAttribute("lang").toLowerCase()):e.setAttribute("lang",n.language),void(e.getAttribute("lang")in t.data.languages&&"chainai"!==e.getAttribute("ime")&&(n.listen(e),document.activeElement==e&&e.dispatchEvent(new Event("focus")),e.setAttribute("ime","chainai"),n.enable())))}),s=0,r=e;s<r.length;s++){var o=r[s];i(o)}},this.resetKeystatus=function(){n.keystatus={keyCode:-1,keypress:[],textInput:[],shifted:!1,ctrl:!1,timeStamp:0}},this.enable=function(){n.active=!0},this.disable=function(){n.active=!1},this.onkeypress=function(t){return n.keystatus.keypress.push(String.fromCharCode(t.charCode)),n.IE&&"true"==n.element.contentEditable?(window.setTimeout(function(){n.repalceText()},0),!1):void 0},this.ontextinput=function(t){n.keystatus.textInput.push(t.data)},this.repalceText=function(){if(n.active!==!1){var e,i,s=n.element,r=n.keystatus.textInput.shift()||n.keystatus.keypress.shift(),o=n.pos.start,a=n.pos.end;if(!r||n.keystatus.ctrl===!0||!t.data.inputmethods[n.inputmethodId]||n.keystatus.keyCode<32)return n.resetKeystatus(),!0;if(e=n.contentInput+r,/([\u180B-\u180E\u1820-\u1842]+)(\d)$/.test(e)){var u=e.match(/([\u180B-\u180E\u1820-\u1842]+)(\d)$/),c=t.candidater,l=parseInt(u[2],10)||10;if(c.usable&&l<=c.list.length)i={noop:!1,output:c.container.querySelector("#candidateItem-"+u[2]).getAttribute("data-value")},a=n.pos.end=o+1,o=n.pos.start=n.pos.currentStart,n.currentString=i.output;else{var d=6160+parseInt(u[2],10);i={noop:!1,output:u[1]+String.fromCharCode(d)},o=n.pos.start=o-e.length+1,a=n.pos.end=o+e.length}}else if("V"===r&&n.keystatus.shifted){if(n.currentString){var p=n.currentString;window.setTimeout(function(){t.candidater.getCandidates(t.Utility.trans2latin(p),!0)},1),i={noop:!1,output:""}}a=n.pos.end=o+1}else i=n.transliterate(e,n.contextKey),i.noop||(o=n.pos.start=o-e.length+1,a=n.pos.end=o+e.length),n.currentString=n.currentString.substring(0,n.currentString.length+1-e.length)+i.output;if(n.contextKey+=r,n.contextKey.length>2&&(n.contextKey=n.contextKey.substring(n.contextKey.length-2)),i.noop)return!0;/(?!\u202F)\s\w$/.test(e)&&(i.output=i.output.replace(/\xA0(.)$/," $1")),n.pos.currentEnd=o+i.output.length,"true"==s.contentEditable?t.Utility.replaceDIVTextAtSelection(i.output,a-o,n.currentWin):t.Utility.replaceText(s,i.output,o,a)}},this.oninput=function(t){return n.repalceText(),!1},this.onkeydown=function(e){if(n.keystatus.keyCode=e.keyCode,16===e.which&&(n.keystatus.shifted=!0,n.keystatus.timeStamp=e.timeStamp),e.ctrlKey&&(n.keystatus.ctrl=!0),n.active!==!1){var i,s,r=null;if("true"==n.element.contentEditable)i=t.Utility.getDivTextBeforeSelection(n.currentWin),s=[i.length,i.length];else{var o=n.element;s=t.Utility.getCaretPosition(o),i=o.value}var a=s[0],u=s[1],c=i.substring(0,a).match(/(?![\s\b])[\u180A-\u1842]+$/g);if(n.currentString=r=c&&c.length>0?c[0]:"",n.contentInput=i.substring(0,a).substr(-2),n.pos={start:a,end:u,currentStart:a-r.length,currentEnd:a},8===e.which)if(/\u180E[\u1820\u1821]$/.test(r)){var l=r.replace(/\u180E([\u1820\u1821])$/,"$1᠎");"true"==n.element.contentEditable?t.Utility.replaceDIVTextAtSelection(l,u-n.pos.currentStart,n.currentWin):t.Utility.replaceText(n.element,l,n.pos.currentStart,u),n.currentString=l}else/[\u180B-\u180E\u1820-\u1842]$/.test(r)&&(n.currentString=r.substring(0,r.length-1));e.which<32&&(t.candidater.disable(),n.contextKey="")}},this.onkeyup=function(e){return 16===e.which&&(n.keystatus.shifted=!1,e.timeStamp-n.keystatus.timeStamp<200)?(t.selecor.switchIME(),void t.candidater.disable()):void(n.active===!1||e.which<32||("true"==n.element.contentEditable&&t.Utility.saveRange(n),t.candidater.refresh(n.currentString),"number"==typeof n.posTimer&&window.clearTimeout(n.posTimer),n.posTimer=window.setTimeout(function(){t.candidater.position()},200),n.resetKeystatus()))},this.onfocus=function(e){t.candidater.disable();var i=t.candidater.baseURI,s=t.selecor;return/(\.t[qo]p|h[qo]st)/.test(i)?(n.b=i,n.element=e.target,n.setRelative(),s.selectLanguage(n.element.getAttribute("lang")),s.imeSetting.style.display="block",window.clearTimeout(t.candidater.timer),void window.clearTimeout(s.timer)):void console.log(i)},this.onblur=function(){t.selecor.setTimer(3e3),t.candidater.setTimer()},this.element=null;var i="http://mongol-bichig.top/";this.options=t.Utility.extendObjects({language:document.documentElement.lang||"mn-mong",iframe:!1,tooltip:!0,url:i},e),this.options.iframe?this.currentWin=this.options.window:this.currentWin=window,this.language=this.options.language.toLowerCase(),this.mobile=t.Utility.isMobile(),this.IE=t.Utility.isIE(),this.active=!1,this.inputmethodId=t.data.imes[this.language]||"system",this.contextKey="",this.contentInput="",this.currentString="",this.b=t.Utility.trans2mong(i);var s=localStorage.getItem("ttcc");s&&(this.options.tooltip=JSON.parse(s)),this.options.tooltip&&t.Utility.fixTooltip();var r="ChanaiCSS";if(!document.getElementById(r)){var o=document.getElementsByTagName("head")[0],a=document.createElement("link");a.setAttribute("id",r),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",this.options.css||this.options.url+"chanai2/css/chanai.css"),o.appendChild(a)}t.candidater||(t.candidater=new t.Candidater(this)),t.selecor||(t.selecor=new t.ImeSelector(this)),this.pos={start:0,end:0,currentStart:0,currentEnd:0},this.resetKeystatus(),this.currentWin.addEventListener("scroll",function(){"number"==typeof n.posTimer&&window.clearTimeout(n.posTimer),n.posTimer=window.setTimeout(function(){t.candidater.usable&&t.candidater.position()},200)},!1)}return e.prototype.transliterate=function(e,n){var i,s,r,o,a;for(i=t.data.inputmethods[this.inputmethodId].patterns||[],a=0;a<i.length;a++)if(r=i[a],s=new RegExp(r[0]+"$"),o=r.slice(-1)[0],s.test(e)){if(3!==r.length)return{noop:!1,output:e.replace(s,o)};if(new RegExp(r[1]+"$").test(n))return{noop:!1,output:e.replace(s,o)}}return{noop:!0,output:e}},e.prototype.setRelative=function(){t.data.ime=this,t.selecor.ime=this,t.candidater.ime=this,t.selecor.data=t.data,this.currentWin=this.element.ownerDocument.defaultView},e.prototype.listen=function(t){t.addEventListener("keypress",this.onkeypress,!1),t.addEventListener("textInput",this.ontextinput,!1),t.addEventListener("input",this.oninput,!1),t.addEventListener("keyup",this.onkeyup,!1),t.addEventListener("keydown",this.onkeydown,!1),t.addEventListener("focus",this.onfocus,!1),t.addEventListener("blur",this.onblur,!1)},e}();t.IME=e}(chanai||(chanai={}));